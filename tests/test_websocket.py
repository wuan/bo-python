from blitzortung.websocket import decode


def test_decode():
    source =  "{\"time\":16501358936120880Ę,\"latĆ32.3č748ĚlonĆ-ď.5Ē5ĈĚalĞ:0ĚpolĆĹ\"mdsĆ9Ē1ĚmcgĆ179ĚstĝuŃĸĚregiĪğŐiŋ:[ĀőaĆ253ĿĂĄĆ73ĖĎĨĝğġ5446ĥĨŜ:-9ġĘ405ŏ\"ĵķ2ħ\"ŤtŔĆ4},ţŒŦ8ŹĚūą:7Ŷ2Ɨěų:ũ.606ſ2ŻīŽ91.ƃģƭĴĶŦƅƌƎ:ƐƒƋƔćĉ3Ƙăƚē452źƠķ34.8Ũēǀěżĭ6.ŮƂ55Ƴƈ6ƊƷŕƺƓť:2ō6ǁŬćŧ1ǆǑĜǊǌƄſ8ŇǒƫǔįǇſ4ǛƏĊŐŒƍǠƑǢŌŷǚāǂŌ31Ƃ7ĿǯğǌŸ242ƅĩǷſ.9ǙČƩƆƴćũȀœŕ10ȄƼǣ2ȌȈƙȋōĲǵȑƢȓ6ȕģƪĬțȝȳǧȡķČǑǟŌ2ȪŤŭ9ƅȰćĊƧ7Ƞȵčǖƞ9ǼǶĬƖǍƖ84ǵƇŦĠȥȂŌȩƻɉǤĎ7ǨǃƧ1ǎɬǉğ3ǍɐƄȻŽɞ.ŷɑŅǽǤŮɤƸēɈƽȗŶɭŦ0ƞƄɘɓ0.ȍĎȕɹž5ɼēſɀɡȶʃȧɧȅǤȨŪȊǤ0ģ8ůŲǊʑʓ9ʨʖȝʙũ6ǑʝŷʟɆʆȬȗɘɍ2ȕ6ĉƊɓ7.ǇɞȈșȼɵ8ˁǎʷȢđɘɅǪʼŌ97ɲˀȕɑōʬğˇˉˁȴǓĐǍˁŅƊʝđɀ˖ʅɨƽōǅʊǤĦɟƜˡǤ9ƤȏɾʲǕˏ˚ȈʝȨƶȁƸǡȫȆ3ɌʦƞĔ9ǎ˻ůˈǥōɒǓɻǴĥđʀǥɲ˰ɇ˲ǣōǋ˶ǇĦ˃ɒơƣːȏ˦ȚˇƖƄ̟ɁŦǆʺ˗̥ŌĥȠˀĥǳȴ̮ʑ̰0ʏ˧̴ĉɗɘʝŧĿ̣˘ć̞̩͂43ɲʐ̗8ȏǮ͊ɶ̶ʜȢŧ˕̉ȧ̤ʢƉ6ʿ̐͝ĕĦ̕ʘʨɞɰʖėǍ͙̬̠ƞ̻˱ͪ57ǵɍȌĖĈ̈́ǜƤĖƥ̲ɚƀƉƝʀǞͧƏ͓ǥǙ˶ģŧ7ƟˆĢĥıͷʑǆēɠȢ1ɰɄΔ̼ʢɰĖΙͺǋˋ̮ʘ̬ǝ̚ǷŎĢŸʰƅ̆Μ;ͩ̌˼ŧΰŎďγΉǥɋȺəɺƮ̞Č͎ΧȠ˖̋ɩǇ0̏ǩǋȖƃ˅ơɟʙǝ͉Ƿ͝ʒŨʶ˒ƈŸρΖŶǑ΄ǴΨƧ˻Ϣ4ƭ˛ɀˌɺɵɑĘɣ̸ćίȫɥάσŧĔ˶ƂǝƜǮ̮˽Ĉ̓ǝʖ78ȜŎŮͣǊȌ̻ϗ˳Ů˜ʦ˹Ũ˛϶ɵϚ4Ж˅̛ʘŸΜǥ̠˃О͓ĐͭǩȖ̓˛ΈƏˎĘŶˋ˧ʑ0ŮĲɲ͏΂̻ςϘȸ̀Уŷɞȭ̂̕˞ͬЕǕĔĠĐ̠д̽Ǥč΃яцЪ̕˽ϚʪƃЕˇǆĔіЂȨ̢ΫП̦Ɯʥи̵ĔϠķǅĢ͙Ʀ̛͚˽ĦǙ͈ʀŸȈϖ͓ēʱȉǩɏЀʏАǖȝЌЕεɾǴʀʰъϯʌ˶ŶʓΘɳƢ˽΂кȘǓĥʒΐЁ̆͑ѲҊǋɀɍȞ͈ĉ϶Ǳϟ˺ώ-ЖƤΨċ̅ͤϸҜў1ĐϱʦȞѾ̭ѻƮĠĎͱҼҪſӇǈʸϚѝͪƉзƚǙɟǇӍğ˽ĎҶʖȨʘ͙ȭ̠̓ǅǵ҉ўƞҌҴɑǝČ϶ƮǆʌȍЕǌɰϚſʀɃӚσӇĲҟɗȗҞңŸʒƭƃҨι˽̎ȗƟ͏ȖԄϘӁ˶ıɃЏѻȓŮʰϥĬȨˎȍʶЛɆȨд]ĚdeĜyƏȜ}"
    result = decode(source)

    assert result == '{"time":1650135893612088000,"lat":32.335748,"lon":-89.561516,"alt":0,"pol":0,"mds":9611,"mcg":179,"status":0,"region":3,"sig":[{"sta":2530,"time":738858,"lat":32.544674,"lon":-92.004059,"alt":28,"status":4},{"sta":2867,"time":754267,"lat":30.606922,"lon":-91.053391,"alt":29,"status":4},{"sta":1653,"time":1245274,"lat":34.853123,"lon":-86.734055,"alt":268,"status":4},{"sta":2176,"time":1251523,"lat":34.599281,"lon":-86.527924,"alt":450,"status":4},{"sta":1445,"time":1314070,"lat":34.462429,"lon":-92.955132,"alt":130,"status":10},{"sta":2315,"time":1317511,"lat":34.462433,"lon":-92.955116,"alt":133,"status":12},{"sta":799,"time":1506972,"lat":35.72694,"lon":-86.886841,"alt":232,"status":10},{"sta":2587,"time":1691857,"lat":33.869759,"lon":-84.447296,"alt":273,"status":12},{"sta":2954,"time":2026594,"lat":30.145824,"lon":-95.412926,"alt":34,"status":10},{"sta":2100,"time":2033838,"lat":30.145903,"lon":-95.413063,"alt":44,"status":12},{"sta":2294,"time":2246658,"lat":37.27845,"lon":-93.822853,"alt":364,"status":12},{"sta":1977,"time":2247217,"lat":37.278221,"lon":-93.822968,"alt":366,"status":12},{"sta":1745,"time":2484175,"lat":29.670729,"lon":-96.82975,"alt":109,"status":4},{"sta":1439,"time":2620985,"lat":38.221172,"lon":-84.817436,"alt":217,"status":12},{"sta":1734,"time":2748662,"lat":30.228701,"lon":-97.865936,"alt":252,"status":12},{"sta":1742,"time":2749281,"lat":30.228704,"lon":-97.865944,"alt":250,"status":12},{"sta":1743,"time":2749437,"lat":30.228703,"lon":-97.865936,"alt":254,"status":12},{"sta":2864,"time":2870848,"lat":35.038418,"lon":-80.837662,"alt":226,"status":12},{"sta":2571,"time":3188169,"st,"lon":-96t":26.688601,"lon":-82.028542,"alt":8,"status":4},{"sta":2155,"time":3325767,"lat":37.374615,"lon":-80.52121,"alt":1183,"s8,"st:12},{"sta":188855,376345,"lat":35.662682,"lon":-79.346909,"alt":1257;2},{"sta":29258857989345,"lon":-96t219933,"lon":-81.743134,"a1,"al2,"status":4},{"sta":2709,"time":3442058,"lat":41.41684,"lon":-87.153633,"alt":246257;":4}543,"time":381lt":169,"lat":at":4491776,"lon":-83.720032,"alt":1188"status"8,"st:2},{"2520,"time":4068753,"lat":39.169868,"lon":-78.979736,"alt":331,"status":status":4ta":1737,"time":417537769,3.2704,"lon":-78,"lon":-85.4625721,"alt":26631,},{"sta":934,"time":4298779,"st,":43.800545,"lon":-90.073517,"alt":271,"status":;24},{"s62729,7,"ti4484236.8,"lat":32476468,6.203293,"alt":2663,{"sta":2351,"t729,77352704,"lat":39.270830568,7.5220247632,"107,"s3,"s8,"status":sa":1750,"ti4,"tim86520058t":45.33706on":-87,"l9.485504,"alt":465,"2,"s},{"sta":1203,"time":5067204,"l3,"la.795,"time":468,at":3572981,"alt":9071,257;"02,"time":54145215"lat":39.714299,"lon":-74.12.02003alt":10,"s7,"s32,"s}346,"time":551046569,4.542075,33,"-,"lon":-7.6lt":1015,"alt":2at":44907663,193543ime":551.332,"la058t1.325848,75,3on":-792663,174,"alt":4270,"alt":26{"sta":228934e":554127.332":39.585510,"lon":-105.3723,"alt":298451,"5,"2663,261206,"t72681369,1.52021468,4.1827092,"alt":133270,2},{"663,15102,9429257;"0215"46.1910542992,"lon9.392967,"alt":24213324},{"slt":10,"time":615133753058t4.47390684":-103.81463736":1210663],"delay":4.9}'
